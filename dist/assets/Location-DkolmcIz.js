import{_ as U,v as R,r as d,g as x,a as g,c as B,b as w,e as t,d as l,w as n,u as h,B as $,k as W,f,F as j,p as z,y as c,t as k,A as H}from"./index-Dt4dB-s4.js";const J={class:"locker-container"},O={class:"header-bar"},X={class:"action-buttons"},Z={class:"locker-grid"},q={class:"card-content"},G={class:"info-section"},K={class:"value-row"},Q={class:"department-value"},ee={class:"devices-value"},te={class:"bays-value"},se={class:"button-row"},ae={class:"dialog-footer"},le={__name:"Location",setup(oe){const V=R(),v=d(!1),y=d(!1),_=d(-1),s=d({department:"",assignedBays:""}),S=()=>{V.back()},p=d(null),m=d(-1),r=d(null),i=d([{department:"California",devicesAssigned:"25",assignedBays:"1234 Silicon Valley Blvd, San Jose, CA 95110"},{department:"New York",devicesAssigned:"30",assignedBays:"789 Broadway Ave, New York, NY 10003"},{department:"Texas",devicesAssigned:"20",assignedBays:"456 Lone Star Dr, Austin, TX 78701"},{department:"Florida",devicesAssigned:"18",assignedBays:"321 Ocean Drive, Miami, FL 33139"},{department:"Illinois",devicesAssigned:"22",assignedBays:"890 Michigan Ave, Chicago, IL 60611"},{department:"Washington",devicesAssigned:"15",assignedBays:"567 Pike Street, Seattle, WA 98101"},{department:"Massachusetts",devicesAssigned:"12",assignedBays:"234 Beacon St, Boston, MA 02116"},{department:"Arizona",devicesAssigned:"16",assignedBays:"678 Desert View Rd, Phoenix, AZ 85001"}]),C=d("");x(()=>{const a=i.value.map(e=>e.department);return[...new Set(a)].sort()});const D=x(()=>C.value?i.value.filter(a=>a.department===C.value):i.value),E=a=>{a===-1||a>=i.value.length||H.confirm("Are you sure you want to delete this locker? You will have 30 seconds to restore it.",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning",confirmButtonClass:"confirm-delete-btn",cancelButtonClass:"cancel-delete-btn"}).then(()=>{p.value={...i.value[a]},m.value=a,i.value.splice(a,1);const e=c({type:"success",duration:3e4,showClose:!0,dangerouslyUseHTMLString:!0,message:`
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 20px;">
          <span>Locker deleted successfully. You have 30 seconds to restore it.</span>
          <button 
            id="restore-btn" 
            style="
              background-color: #0C306C; 
              color: white; 
              border: none; 
              padding: 6px 16px; 
              border-radius: 4px; 
              cursor: pointer;
              font-weight: 600;
              white-space: nowrap;
            "
          >
            Restore
          </button>
        </div>
      `,onClose:()=>{p.value=null,m.value=-1,r.value&&(clearTimeout(r.value),r.value=null)}});setTimeout(()=>{const u=document.getElementById("restore-btn");u&&(u.onclick=()=>{T(),e.close()})},100),r.value=setTimeout(()=>{p.value=null,m.value=-1,r.value=null},3e4)}).catch(()=>{c.info("Delete cancelled")})},T=()=>{p.value&&m.value!==-1&&(i.value.splice(m.value,0,p.value),c.success("Locker restored successfully"),p.value=null,m.value=-1,r.value&&(clearTimeout(r.value),r.value=null))},I=()=>{y.value=!1,_.value=-1,s.value={department:"",assignedBays:""},v.value=!0},M=(a,e)=>{y.value=!0,_.value=e,s.value={department:a.department,assignedBays:a.assignedBays},v.value=!0},N=()=>{if(!s.value.department.trim()){c.warning("Please enter location name");return}if(!s.value.assignedBays.trim()){c.warning("Please enter detailed address");return}y.value?(i.value[_.value]={...i.value[_.value],department:s.value.department,assignedBays:s.value.assignedBays},c.success("Location updated successfully")):(i.value.push({department:s.value.department,devicesAssigned:"0",assignedBays:s.value.assignedBays}),c.success("Location added successfully")),v.value=!1};return(a,e)=>{const u=g("el-button"),L=g("el-input"),A=g("el-form-item"),Y=g("el-form"),F=g("el-dialog");return w(),B("div",J,[t("div",O,[l(h(W),{class:"back-arrow",onClick:S},{default:n(()=>[l(h($))]),_:1}),e[5]||(e[5]=t("h2",null,"Location",-1)),t("div",X,[l(u,{type:"",style:{"background-color":"#0C306C",color:"#fff","font-weight":"600"},onClick:I},{default:n(()=>[...e[4]||(e[4]=[f(" Add Location ",-1)])]),_:1})])]),t("div",Z,[(w(!0),B(j,null,z(D.value,(o,b)=>(w(),B("div",{key:b,class:"locker-card"},[t("div",q,[t("div",G,[e[8]||(e[8]=t("div",{class:"label-row"},[t("span",{class:"label"},"Location"),t("span",{class:"label label-right"},"Locker Num")],-1)),t("div",K,[t("span",Q,k(o.department),1),t("span",ee,k(o.devicesAssigned),1)]),e[9]||(e[9]=t("p",null,[t("span",{class:"label"},"Detail")],-1)),t("p",te,k(o.assignedBays),1),t("div",se,[l(u,{type:"",class:"action-btn edit-btn",onClick:P=>M(o,b)},{default:n(()=>[...e[6]||(e[6]=[f(" Edit ",-1)])]),_:1},8,["onClick"]),l(u,{class:"action-btn delete-btn",onClick:P=>E(b)},{default:n(()=>[...e[7]||(e[7]=[f(" Delete ",-1)])]),_:1},8,["onClick"])])])])]))),128))]),l(F,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),title:y.value?"Edit Location":"Add Location",width:"565px",style:{"--you-dialog-width":"565px","font-weight":"700",color:"#000",gap:"28px","border-radius":"24px","padding-top":"52px","padding-right":"24px","padding-bottom":"52px","padding-left":"24px"},"custom-class":"custom-dialog","close-on-click-modal":!1},{footer:n(()=>[t("span",ae,[l(u,{type:"default",class:"cancel-btn",onClick:e[2]||(e[2]=o=>v.value=!1)},{default:n(()=>[...e[10]||(e[10]=[f("Cancel",-1)])]),_:1}),l(u,{type:"primary",class:"save-btn",onClick:N},{default:n(()=>[...e[11]||(e[11]=[f("Save",-1)])]),_:1})])]),default:n(()=>[l(Y,{model:s.value,"label-position":"top",class:"location-form"},{default:n(()=>[l(A,{label:"Location*"},{default:n(()=>[l(L,{modelValue:s.value.department,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.department=o),placeholder:"Enter location (e.g., California, New York)"},null,8,["modelValue"])]),_:1}),l(A,{label:"Detail*"},{default:n(()=>[l(L,{modelValue:s.value.assignedBays,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.assignedBays=o),placeholder:"Enter detailed address (e.g., 123 Main St, City, State 12345)",type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ie=U(le,[["__scopeId","data-v-0ff941d3"]]);export{ie as default};
