import{_ as Q,v as J,H as K,r as o,o as W,c as S,b as p,e as d,d as l,w as s,u as e,B as X,k as $,t as B,L as N,M as r,N as E,l as I,h as Y,E as m,j as v,f as i,F as G,p as T,O as ee,P as le,n as ae,Q as F,x as se,R as te,y as q}from"./index-Dt4dB-s4.js";import{u as oe}from"./deviceStore-Du32FX0L.js";const ue={class:"add-device-page"},de={class:"page-header"},ne={class:"page-title"},ie={class:"assigned-groups"},re={class:"groups-container"},ve=["onClick"],ce={class:"bay-buttons-grid"},fe={class:"group-selection-grid"},pe={__name:"Devices_all_edit",setup(me){const P=J(),n=K(),h=oe(),R=()=>P.back(),w=o(!1),x=o("Add New Device"),M=o(""),y=o(""),b=o(""),g=o(""),U=o(""),k=o(!1),c=o(""),_=o(""),D=o(!1),f=o([]),C=o([]),L=o(["HR Department","Sales Department","Day Shift Managers","Staff","Office Staff","Night Shift Managers","IT Team","Managers","Senior Staff","Interns","Admin Team"]);W(()=>{n.query.mode==="edit"?(w.value=!0,y.value=n.query.deviceName||"",b.value=n.query.deviceId||"",M.value=n.query.deviceId||"",g.value=n.query.deviceType||"",_.value=n.query.assignedBay||"",n.query.deviceGroups&&(f.value=n.query.deviceGroups.split(", ")),x.value=`Edit ${n.query.deviceName}`):(w.value=!1,x.value="Add New Device")});const A=u=>u.toString().padStart(2,"0"),O=()=>{c.value="",k.value=!1},j=()=>{c.value&&(_.value=`Bay ${c.value}`),k.value=!1,c.value=""},z=()=>{C.value.forEach(u=>{f.value.includes(u)||f.value.push(u)}),C.value=[],D.value=!1},H=u=>{f.value.splice(u,1)},Z=()=>{if(!y.value||!b.value||!g.value||!_.value){q.warning("Please fill in all required fields");return}const u={deviceName:y.value,deviceId:b.value,assignedBay:_.value,deviceType:g.value,deviceGroups:f.value.join(", "),status:"Available",category:"A1"};w.value?(h.updateDevice(M.value,u),q.success("Device updated successfully")):(h.addDevice(u),q.success("Device added successfully")),P.push("/devices")};return(u,a)=>(p(),S("div",ue,[d("div",de,[l(e($),{onClick:R,class:"back-arrow"},{default:s(()=>[l(e(X))]),_:1}),d("h1",ne,B(x.value),1)]),l(e(le),{class:"device-form","label-position":"top"},{default:s(()=>[l(e(N),{gutter:24},{default:s(()=>[l(e(r),{span:8},{default:s(()=>[l(e(E),{label:"Device Name *"},{default:s(()=>[l(e(I),{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=t=>y.value=t),placeholder:"Enter Device Name"},null,8,["modelValue"])]),_:1})]),_:1}),l(e(r),{span:8},{default:s(()=>[l(e(E),{label:"Device ID *"},{default:s(()=>[l(e(I),{modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=t=>b.value=t),placeholder:"Enter Device ID"},null,8,["modelValue"])]),_:1})]),_:1}),l(e(r),{span:8},{default:s(()=>[l(e(E),{label:"Device Type *"},{default:s(()=>[l(e(Y),{modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=t=>g.value=t),placeholder:"Select Type"},{default:s(()=>[l(e(m),{label:"iPhone",value:"iPhone"}),l(e(m),{label:"iPad",value:"iPad"}),l(e(m),{label:"Android Phone",value:"Android Phone"}),l(e(m),{label:"Android Tablet",value:"Android Tablet"}),l(e(m),{label:"Zebra",value:"Zebra"}),l(e(m),{label:"Laptop",value:"Laptop"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(e(N),{gutter:24},{default:s(()=>[l(e(r),{span:8},{default:s(()=>[l(e(E),{label:"Assign a Bay*"},{default:s(()=>[a[10]||(a[10]=d("div",{class:"form-note"},"Note: Each device needs an assigned bay",-1)),l(e(v),{class:"select-bay-btn",type:"text",onClick:a[3]||(a[3]=t=>k.value=!0)},{default:s(()=>[i(B(_.value||"Select Bay"),1)]),_:1})]),_:1})]),_:1}),l(e(r),{span:8},{default:s(()=>[l(e(E),{label:"Barcode or NFC*"},{default:s(()=>[a[11]||(a[11]=d("div",{class:"form-note"},"Note: Enter or scan the barcode",-1)),l(e(I),{modelValue:U.value,"onUpdate:modelValue":a[4]||(a[4]=t=>U.value=t),placeholder:"Enter Code"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(e(N),null,{default:s(()=>[l(e(r),{span:24},{default:s(()=>[d("div",ie,[a[12]||(a[12]=d("h3",null,"Assigned Groups",-1)),d("div",re,[(p(!0),S(G,null,T(f.value,(t,V)=>(p(),S("span",{key:V,class:"group-tag",onClick:ye=>H(V)},[i(B(t)+" ",1),l(e($),{class:"remove-icon"},{default:s(()=>[l(e(ee))]),_:1})],8,ve))),128)),d("div",{class:"add-group-placeholder",onClick:a[5]||(a[5]=t=>D.value=!0)}," + Add Group ")])])]),_:1})]),_:1}),l(e(N),null,{default:s(()=>[l(e(r),{span:24,class:"save-btn-wrap"},{default:s(()=>[l(e(v),{type:"primary",style:{background:"rgb(15, 52, 96)",color:"rgb(255, 255, 255)",float:"right",height:"60px",width:"170px","font-size":"18px","font-weight":"600"},onClick:Z},{default:s(()=>[...a[13]||(a[13]=[i(" Save ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(e(F),{modelValue:k.value,"onUpdate:modelValue":a[6]||(a[6]=t=>k.value=t),title:"Select Bay",width:"800px","close-on-click-modal":!1},{footer:s(()=>[l(e(v),{onClick:O,class:"tan"},{default:s(()=>[...a[14]||(a[14]=[i("Cancel",-1)])]),_:1}),l(e(v),{type:"primary",style:{background:"#0f3460",color:"#fff"},onClick:j,class:"tan"},{default:s(()=>[...a[15]||(a[15]=[i(" Save ",-1)])]),_:1})]),default:s(()=>[a[16]||(a[16]=d("div",{class:"bay-dialog-note"}," Please select the bay you want the device to be assigned to ",-1)),d("div",ce,[(p(),S(G,null,T(30,t=>l(e(v),{key:t,class:ae(["bay-btn",{"bay-btn-selected":c.value===A(t)}]),onClick:V=>c.value=A(t)},{default:s(()=>[i(B(A(t)),1)]),_:2},1032,["class","onClick"])),64))])]),_:1},8,["modelValue"]),l(e(F),{modelValue:D.value,"onUpdate:modelValue":a[9]||(a[9]=t=>D.value=t),title:"Select Groups",width:"600px","close-on-click-modal":!1},{footer:s(()=>[l(e(v),{onClick:a[8]||(a[8]=t=>D.value=!1),class:"tan"},{default:s(()=>[...a[17]||(a[17]=[i("Cancel",-1)])]),_:1}),l(e(v),{type:"primary",style:{background:"#0f3460",color:"#fff"},onClick:z,class:"tan"},{default:s(()=>[...a[18]||(a[18]=[i(" Add Selected ",-1)])]),_:1})]),default:s(()=>[d("div",fe,[(p(!0),S(G,null,T(L.value,t=>(p(),se(e(te),{key:t,label:t,modelValue:C.value,"onUpdate:modelValue":a[7]||(a[7]=V=>C.value=V),class:"group-checkbox"},null,8,["label","modelValue"]))),128))])]),_:1},8,["modelValue"])]))}},ke=Q(pe,[["__scopeId","data-v-89784c71"]]);export{ke as default};
