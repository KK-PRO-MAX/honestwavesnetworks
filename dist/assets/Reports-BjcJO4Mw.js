import{_ as g,c as i,b as d,e,W as p,a3 as k,f,t as o,a4 as m,F as u,p as h,n as D,K as y}from"./index-Dt4dB-s4.js";const M={data(){return{reportData:[{time:"11/21/2023 - 12:56 PM",user:"John Doe",role:"Manager",device:"iPhone #25 - 1651",bay:1,event:"Deactivated"},{time:"10/15/2023 - 2:56 PM",user:"Warren Buffet",role:"Staff",device:"iPhone #27 - 1653",bay:2,event:"Activated"},{time:"10/13/2023 - 11:30 AM",user:"Elon Musk",role:"Manager",device:"iPhone #28 - 1654",bay:3,event:"Opened Bay"},{time:"09/21/2023 - 5:19 PM",user:"Frank Diaz",role:"Staff",device:"iPhone #30 - 1656",bay:4,event:"Check-In"}],showDatePicker:!1,startDate:null,endDate:null,startDisplayMonth:new Date,endDisplayMonth:new Date,showEventOptions:!1,selectedEvent:"All",eventOptions:["Deactivated","Activated","Opened Bay","Check-In","Check-Out"],showUsersModal:!1,usersList:["User 1","User 2","User 3","User 4","User 5","User 6","User 7","User 8"],selectedUsers:[],showDevicesModal:!1,devicesList:["Device A","Device B","Device C","Device D","Device E","Device F"],selectedDevices:[],showBaysModal:!1,baysList:[1,2,3,4,5,6,7,8,9,10,11,12],selectedBays:[]}},computed:{startDateFormatted(){return this.startDate?this.formatDate(this.startDate):""},endDateFormatted(){return this.endDate?this.formatDate(this.endDate):""},startMonthYear(){const l=this.startDisplayMonth.toLocaleString("en-US",{month:"long"}),t=this.startDisplayMonth.getFullYear();return`${l} ${t}`},endMonthYear(){const l=this.endDisplayMonth.toLocaleString("en-US",{month:"long"}),t=this.endDisplayMonth.getFullYear();return`${l} ${t}`},startDays(){return this.generateDays(this.startDisplayMonth)},endDays(){return this.generateDays(this.endDisplayMonth)}},methods:{generateDays(l){const t=l.getFullYear(),r=l.getMonth(),v=new Date(t,r+1,0).getDate(),n=new Date(t,r,1).getDay(),a=[];for(let s=0;s<n;s++)a.push({date:null});for(let s=1;s<=v;s++)a.push({date:new Date(t,r,s)});return a},formatDate(l){const t=l.getMonth()+1,r=l.getDate(),v=l.getFullYear();return`${t.toString().padStart(2,"0")}/${r.toString().padStart(2,"0")}/${v}`},isSameDate(l,t){return!l||!t?!1:l.getFullYear()===t.getFullYear()&&l.getMonth()===t.getMonth()&&l.getDate()===t.getDate()},isDateInRange(l){return!this.startDate||!this.endDate?!1:l>=this.startDate&&l<=this.endDate},selectStartDate(l){this.startDate=new Date(l),this.endDate&&this.endDate<this.startDate&&(this.endDate=null)},selectEndDate(l){this.endDate=new Date(l)},prevMonth(l){l==="start"?this.startDisplayMonth=new Date(this.startDisplayMonth.getFullYear(),this.startDisplayMonth.getMonth()-1,1):this.endDisplayMonth=new Date(this.endDisplayMonth.getFullYear(),this.endDisplayMonth.getMonth()-1,1)},nextMonth(l){l==="start"?this.startDisplayMonth=new Date(this.startDisplayMonth.getFullYear(),this.startDisplayMonth.getMonth()+1,1):this.endDisplayMonth=new Date(this.endDisplayMonth.getFullYear(),this.endDisplayMonth.getMonth()+1,1)},resetDates(){this.startDate=null,this.endDate=null},confirmDates(){this.showDatePicker=!1},toggleEventOptions(){this.showEventOptions=!this.showEventOptions},selectEvent(l){this.selectedEvent=l,this.showEventOptions=!1},toggleSelection(l,t){const r=l.indexOf(t);r>-1?l.splice(r,1):l.push(t)},exportTableData(){let l=`Time,User,User Role,Device,Bay #,Event
`;this.reportData.forEach(s=>{const c=[this.escapeCsvField(s.time),this.escapeCsvField(s.user),this.escapeCsvField(s.role),this.escapeCsvField(s.device),this.escapeCsvField(s.bay.toString()),this.escapeCsvField(s.event)];l+=c.join(",")+`
`});const t=new Blob([l],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(t),v=document.createElement("a");v.setAttribute("href",r);const a=new Date().toISOString().split("T")[0];v.setAttribute("download",`report_data_${a}.csv`),document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(r)},escapeCsvField(l){return l?l.includes(",")||l.includes('"')||l.includes(`
`)||l.includes("\r")?`"${l.replace(/"/g,'""')}"`:l:""}},mounted(){document.addEventListener("click",l=>{const t=this.$el.querySelector(".event-selector");!t||t.contains(l.target)||(this.showEventOptions=!1)})}},w={class:"report-page"},C={class:"filter-section"},_={class:"filter-row first-row"},S={class:"filter-item"},U=["value"],F={class:"filter-item"},E=["value"],B={class:"filter-item"},x=["value"],O={class:"filter-row second-row"},R={class:"filter-item"},L={class:"event-selector"},Y={class:"select-options"},P=["onClick"],T={class:"filter-item date-filter"},A=["value"],I=["value"],j={key:0,class:"date-picker-popup"},N={class:"date-picker-header"},V={class:"date-picker-body"},W={class:"calendar"},z={class:"calendar-header"},q={class:"days"},J=["onClick"],K={class:"calendar"},G={class:"calendar-header"},H={class:"days"},Q=["onClick"],X={class:"date-picker-footer"},Z={class:"filter-actions"},$={ref:"reportTable",class:"report-table desktop-table"},ee={class:"report-cards mobile-cards"},te={class:"card-row data-row"},se={class:"card-cell"},le={class:"cell-value"},ne={class:"card-cell"},ae={class:"cell-value"},ie={class:"card-cell"},de={class:"cell-value"},oe={class:"card-row data-row"},re={class:"card-cell"},ce={class:"cell-value"},ve={class:"card-cell"},ue={class:"cell-value"},he={class:"card-cell"},De={class:"cell-value"},pe={key:0,class:"modal-overlay"},ye={class:"modal"},be={class:"modal-header"},ge={class:"modal-body grid-container"},ke=["onClick"],fe={class:"modal-footer"},me={key:1,class:"modal-overlay"},Me={class:"modal"},we={class:"modal-header"},Ce={class:"modal-body grid-container"},_e=["onClick"],Se={class:"modal-footer"},Ue={key:2,class:"modal-overlay"},Fe={class:"modal"},Ee={class:"modal-header"},Be={class:"modal-body grid-container"},xe=["onClick"],Oe={class:"modal-footer"};function Re(l,t,r,v,n,a){return d(),i("div",w,[t[45]||(t[45]=e("h1",null,"Reports",-1)),e("div",C,[e("div",_,[e("div",S,[t[23]||(t[23]=e("label",null,"Users",-1)),e("input",{type:"text",value:n.selectedUsers.length>0?n.selectedUsers.join(", "):"All",readonly:"",class:"clickable-input",onClick:t[0]||(t[0]=s=>n.showUsersModal=!0)},null,8,U)]),e("div",F,[t[24]||(t[24]=e("label",null,"Device",-1)),e("input",{type:"text",value:n.selectedDevices.length>0?n.selectedDevices.join(", "):"All",readonly:"",class:"clickable-input",onClick:t[1]||(t[1]=s=>n.showDevicesModal=!0)},null,8,E)]),e("div",B,[t[25]||(t[25]=e("label",null,"Bay #",-1)),e("input",{type:"text",value:n.selectedBays.length>0?n.selectedBays.join(", "):"All",readonly:"",class:"clickable-input",onClick:t[2]||(t[2]=s=>n.showBaysModal=!0)},null,8,x)])]),e("div",O,[e("div",R,[t[27]||(t[27]=e("label",null,"Event",-1)),e("div",L,[e("div",{class:"select-trigger",onClick:t[3]||(t[3]=(...s)=>a.toggleEventOptions&&a.toggleEventOptions(...s))},[f(o(n.selectedEvent)+" ",1),t[26]||(t[26]=e("i",{class:"dropdown-icon"},"▼",-1))]),k(e("div",Y,[(d(!0),i(u,null,h(n.eventOptions,s=>(d(),i("div",{class:"option",key:s,onClick:c=>a.selectEvent(s)},o(s),9,P))),128))],512),[[m,n.showEventOptions]])])]),e("div",T,[t[31]||(t[31]=e("label",null,"Dates",-1)),e("input",{type:"text",value:a.startDateFormatted,placeholder:"Starting Date",readonly:"",class:"clickable-input",onClick:t[4]||(t[4]=s=>n.showDatePicker=!0)},null,8,A),t[32]||(t[32]=e("span",null,"to",-1)),e("input",{type:"text",value:a.endDateFormatted,placeholder:"Ending Date",readonly:"",class:"clickable-input",onClick:t[5]||(t[5]=s=>n.showDatePicker=!0)},null,8,I),n.showDatePicker?(d(),i("div",j,[e("div",N,[e("button",{onClick:t[6]||(t[6]=s=>n.showDatePicker=!1)},"×"),t[28]||(t[28]=e("h3",null,"Select Date Range",-1))]),e("div",V,[e("div",W,[e("div",z,[e("button",{onClick:t[7]||(t[7]=s=>a.prevMonth("start"))},"←"),e("h4",null,o(a.startMonthYear),1),e("button",{onClick:t[8]||(t[8]=s=>a.nextMonth("start"))},"→")]),t[29]||(t[29]=e("div",{class:"weekdays"},[e("div",null,"Sun"),e("div",null,"Mon"),e("div",null,"Tue"),e("div",null,"Wed"),e("div",null,"Thu"),e("div",null,"Fri"),e("div",null,"Sat")],-1)),e("div",q,[(d(!0),i(u,null,h(a.startDays,(s,c)=>(d(),i("div",{class:D(["day",{empty:!s.date,selected:s.date&&a.isSameDate(s.date,n.startDate),"in-range":s.date&&a.isDateInRange(s.date)}]),key:c,onClick:b=>s.date&&a.selectStartDate(s.date)},o(s.date?s.date.getDate():""),11,J))),128))])]),e("div",K,[e("div",G,[e("button",{onClick:t[9]||(t[9]=s=>a.prevMonth("end"))},"←"),e("h4",null,o(a.endMonthYear),1),e("button",{onClick:t[10]||(t[10]=s=>a.nextMonth("end"))},"→")]),t[30]||(t[30]=e("div",{class:"weekdays"},[e("div",null,"Sun"),e("div",null,"Mon"),e("div",null,"Tue"),e("div",null,"Wed"),e("div",null,"Thu"),e("div",null,"Fri"),e("div",null,"Sat")],-1)),e("div",H,[(d(!0),i(u,null,h(a.endDays,(s,c)=>(d(),i("div",{class:D(["day",{empty:!s.date,selected:s.date&&a.isSameDate(s.date,n.endDate),"in-range":s.date&&a.isDateInRange(s.date),disabled:s.date&&s.date<n.startDate}]),key:c,onClick:b=>s.date&&s.date>=n.startDate&&a.selectEndDate(s.date)},o(s.date?s.date.getDate():""),11,Q))),128))])])]),e("div",X,[e("button",{onClick:t[11]||(t[11]=(...s)=>a.resetDates&&a.resetDates(...s))},"Reset"),e("button",{onClick:t[12]||(t[12]=(...s)=>a.confirmDates&&a.confirmDates(...s))},"Apply")])])):p("",!0)])]),e("div",Z,[t[33]||(t[33]=e("button",{class:"btn clear"},"Clear Filters",-1)),t[34]||(t[34]=e("button",{class:"btn run"},"Run Report",-1)),e("span",{class:"export-data",onClick:t[13]||(t[13]=(...s)=>a.exportTableData&&a.exportTableData(...s))},"Export Data")])]),e("table",$,[t[35]||(t[35]=e("thead",null,[e("tr",null,[e("th",null,"Time"),e("th",null,"User"),e("th",null,"User Role"),e("th",null,"Device"),e("th",null,"Bay #"),e("th",null,"Event")])],-1)),e("tbody",null,[(d(!0),i(u,null,h(n.reportData,s=>(d(),i("tr",{key:s.time},[e("td",null,o(s.time),1),e("td",null,o(s.user),1),e("td",null,o(s.role),1),e("td",null,o(s.device),1),e("td",null,o(s.bay),1),e("td",null,o(s.event),1)]))),128))])],512),e("div",ee,[(d(!0),i(u,null,h(n.reportData,(s,c)=>(d(),i("div",{key:c,class:"report-card"},[t[40]||(t[40]=y('<div class="card-row header-row-card" data-v-c1dda3ca><div class="card-cell" data-v-c1dda3ca><div class="cell-label" data-v-c1dda3ca>Time</div></div><div class="card-divider-vertical" data-v-c1dda3ca></div><div class="card-cell" data-v-c1dda3ca><div class="cell-label" data-v-c1dda3ca>User</div></div><div class="card-divider-vertical" data-v-c1dda3ca></div><div class="card-cell" data-v-c1dda3ca><div class="cell-label" data-v-c1dda3ca>User Role</div></div></div>',1)),e("div",te,[e("div",se,[e("div",le,o(s.time),1)]),t[36]||(t[36]=e("div",{class:"card-divider-vertical"},null,-1)),e("div",ne,[e("div",ae,o(s.user),1)]),t[37]||(t[37]=e("div",{class:"card-divider-vertical"},null,-1)),e("div",ie,[e("div",de,o(s.role),1)])]),t[41]||(t[41]=y('<div class="card-row header-row-card" data-v-c1dda3ca><div class="card-cell" data-v-c1dda3ca><div class="cell-label" data-v-c1dda3ca>Device</div></div><div class="card-divider-vertical" data-v-c1dda3ca></div><div class="card-cell" data-v-c1dda3ca><div class="cell-label" data-v-c1dda3ca>Bay #</div></div><div class="card-divider-vertical" data-v-c1dda3ca></div><div class="card-cell" data-v-c1dda3ca><div class="cell-label" data-v-c1dda3ca>Event</div></div></div>',1)),e("div",oe,[e("div",re,[e("div",ce,o(s.device),1)]),t[38]||(t[38]=e("div",{class:"card-divider-vertical"},null,-1)),e("div",ve,[e("div",ue,o(s.bay),1)]),t[39]||(t[39]=e("div",{class:"card-divider-vertical"},null,-1)),e("div",he,[e("div",De,o(s.event),1)])])]))),128))]),n.showUsersModal?(d(),i("div",pe,[e("div",ye,[e("div",be,[t[42]||(t[42]=e("h3",null,"Select Users",-1)),e("button",{class:"close-btn",onClick:t[14]||(t[14]=s=>n.showUsersModal=!1)},"×")]),e("div",ge,[(d(!0),i(u,null,h(n.usersList,s=>(d(),i("div",{class:D(["grid-item",{selected:n.selectedUsers.includes(s)}]),key:s,onClick:c=>a.toggleSelection(n.selectedUsers,s)},o(s),11,ke))),128))]),e("div",fe,[e("button",{class:"modal-btn cancel",onClick:t[15]||(t[15]=s=>n.showUsersModal=!1)},"Cancel"),e("button",{class:"modal-btn confirm",onClick:t[16]||(t[16]=s=>n.showUsersModal=!1)},"Confirm")])])])):p("",!0),n.showDevicesModal?(d(),i("div",me,[e("div",Me,[e("div",we,[t[43]||(t[43]=e("h3",null,"Select Devices",-1)),e("button",{class:"close-btn",onClick:t[17]||(t[17]=s=>n.showDevicesModal=!1)},"×")]),e("div",Ce,[(d(!0),i(u,null,h(n.devicesList,s=>(d(),i("div",{class:D(["grid-item",{selected:n.selectedDevices.includes(s)}]),key:s,onClick:c=>a.toggleSelection(n.selectedDevices,s)},o(s),11,_e))),128))]),e("div",Se,[e("button",{class:"modal-btn cancel",onClick:t[18]||(t[18]=s=>n.showDevicesModal=!1)},"Cancel"),e("button",{class:"modal-btn confirm",onClick:t[19]||(t[19]=s=>n.showDevicesModal=!1)},"Confirm")])])])):p("",!0),n.showBaysModal?(d(),i("div",Ue,[e("div",Fe,[e("div",Ee,[t[44]||(t[44]=e("h3",null,"Select Bay Numbers",-1)),e("button",{class:"close-btn",onClick:t[20]||(t[20]=s=>n.showBaysModal=!1)},"×")]),e("div",Be,[(d(!0),i(u,null,h(n.baysList,s=>(d(),i("div",{class:D(["grid-item",{selected:n.selectedBays.includes(s)}]),key:s,onClick:c=>a.toggleSelection(n.selectedBays,s)},o(s),11,xe))),128))]),e("div",Oe,[e("button",{class:"modal-btn cancel",onClick:t[21]||(t[21]=s=>n.showBaysModal=!1)},"Cancel"),e("button",{class:"modal-btn confirm",onClick:t[22]||(t[22]=s=>n.showBaysModal=!1)},"Confirm")])])])):p("",!0)])}const Ye=g(M,[["render",Re],["__scopeId","data-v-c1dda3ca"]]);export{Ye as default};
