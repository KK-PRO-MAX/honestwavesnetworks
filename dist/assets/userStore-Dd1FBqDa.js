import{Y as c,r as m,m as l}from"./index-COfldkwK.js";import{a as p}from"./user-DZDS1ZP8.js";const A=c("user",()=>{const t=m([{name:"kk Doe",employeeId:"2654656",badgeId:"1021",locker:"A1",location:"New York",role:"Manager",status:"Available",category:"A1",employmentStatus:"active"},{name:"John Doe",employeeId:"1654656",badgeId:"1002",locker:"A2",location:"Los Angeles",role:"Manager",status:"In Use",category:"A2",employmentStatus:"inactive"},{name:"Jane Smith",employeeId:"7890123",badgeId:"1003",locker:"A3",location:"Chicago",role:"Staff",status:"Available",category:"A1",employmentStatus:"active"},{name:"Mike Ross",employeeId:"4567890",badgeId:"1004",locker:"A4",location:"Houston",role:"Admin",status:"Damaged",category:"A3",employmentStatus:"active"},{name:"Alice Brown",employeeId:"2345678",badgeId:"1005",locker:"A1",location:"Phoenix",role:"Supervisor",status:"In Use",category:"A2",employmentStatus:"inactive"},{name:"Bob Wilson",employeeId:"3456789",badgeId:"1006",locker:"A2",location:"Philadelphia",role:"Staff",status:"Available",category:"A4",employmentStatus:"active"},{name:"Charlie Davis",employeeId:"5678901",badgeId:"1007",locker:"A3",location:"San Antonio",role:"Admin",status:"In Use",category:"A3",employmentStatus:"active"},{name:"Eve Miller",employeeId:"6789012",badgeId:"1008",locker:"A4",location:"San Diego",role:"Manager",status:"Damaged",category:"A4",employmentStatus:"inactive"},{name:"Frank Lee",employeeId:"7890124",badgeId:"1009",locker:"A1",location:"Dallas",role:"Staff",status:"Available",category:"A1",employmentStatus:"active"}]),n=async e=>{var o;try{const r=(e.name||"").split(" "),i={user_first_name:r[0]||"",user_last_name:r.slice(1).join(" ")||"",employee_id:parseInt(e.employeeId)||0,user_password:e.pin||"123456",user_badge_id:parseInt(e.badgeId||"0")||0,locker_id:parseInt(e.locker||"0")||0,location_id:1,role_id:d(e.role)},s=await p(i);if(s.data&&(s.data.ret===0||s.data.code===200||s.data.code==="200"))return l.success("User added successfully"),s.data.ret_data;throw new Error(((o=s.data)==null?void 0:o.msg)||"Failed to add user")}catch(a){const r=a instanceof Error?a.message:"Failed to add user";throw l.error(r),console.error("添加用户出错:",a),a}},d=e=>({Temporary:0,"Full Time":1,Manager:2,Admin:3,"Factory Admin":4,"Super Admin":5,Supervisor:6})[e]??0;return{userList:t,addUser:n,updateUser:(e,o)=>{const a=t.value.findIndex(r=>r.employeeId===e);a!==-1&&(t.value[a]={...t.value[a],...o})},deleteUser:e=>{const o=t.value.findIndex(a=>a.employeeId===e);o!==-1&&t.value.splice(o,1)}}});export{A as u};
